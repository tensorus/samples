{% extends "base.html" %}
{% block title %}Tensorus Agent Dashboard{% endblock %}

{% block head_extra %}
{#
  Removed inline styles. Tailwind utility classes will be used.
  The agents.js script will need to be updated to generate HTML
  elements with Tailwind CSS classes for the agent cards.
  Example structure for a dynamically loaded agent card:

  <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg overflow-hidden flex flex-col h-full">
    <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
      <h5 class="text-lg font-semibold text-gray-800 dark:text-white">Agent Name</h5>
      <span class="px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-100">Status</span>
    </div>
    <div class="p-4 space-y-4 flex-grow">
      <div>
        <h6 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">Configuration:</h6>
        <ul class="text-xs text-gray-600 dark:text-gray-400 space-y-0.5">
          <li><strong>Type:</strong> AgentType</li>
          <li><strong>Model ID:</strong> model_xyz</li>
        </ul>
      </div>
      <div>
        <h6 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1">Recent Logs:</h6>
        <div class="text-xs font-mono max-h-36 overflow-y-auto border border-gray-200 dark:border-gray-600 p-2 bg-gray-50 dark:bg-gray-900/50 whitespace-pre-wrap break-all rounded">
          Log line 1...\nLog line 2...
        </div>
      </div>
    </div>
    <div class="p-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 space-x-2">
      <button class="text-xs py-1 px-3 border border-green-500 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-700/30 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:focus:ring-offset-gray-800">Start</button>
      <button class="text-xs py-1 px-3 border border-red-500 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-700/30 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-gray-800">Stop</button>
    </div>
  </div>
#}
{# Removed non-functional JavaScript helper 'styleAgentCard'.
   Actual styling of dynamic cards must be handled in agents.js by adding appropriate Tailwind classes. #}
{% endblock %}

{% block content %}
{# Container and top margin are handled by base.html's main tag #}
<div class="pb-4 mb-6 border-b border-gray-200 dark:border-gray-700">
    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-2">Tensorus Agent Dashboard</h1>
    <p class="text-lg text-gray-600 dark:text-gray-300">Monitor and interact with conceptual Tensorus agents. Status and logs are mock and may update periodically for demonstration.</p>
</div>

<div id="agent-dashboard-container" class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    {# Placeholder for loading state - agents.js should replace this or clear it #}
    <div class="lg:col-span-2 text-center p-8 loading-text-container" id="loading-placeholder-container">
        <div class="bg-white dark:bg-gray-800 shadow-md rounded-lg p-6 animate-pulse w-full max-w-lg mx-auto">
            <div class="flex justify-between items-center mb-4">
                <div class="h-6 bg-gray-300 dark:bg-gray-700 rounded w-1/3"></div>
                <div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/4"></div>
            </div>
            <div class="space-y-3">
                <div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/2"></div>
                <div class="h-16 bg-gray-300 dark:bg-gray-700 rounded"></div>
                <div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/3"></div>
                <div class="h-10 bg-gray-300 dark:bg-gray-700 rounded"></div>
            </div>
            <div class="mt-6 flex space-x-2">
                <div class="h-8 bg-gray-300 dark:bg-gray-700 rounded w-16"></div>
                <div class="h-8 bg-gray-300 dark:bg-gray-700 rounded w-16"></div>
            </div>
        </div>
        <p class="mt-4 text-gray-500 dark:text-gray-400 loading-text">Loading agent information...</p>
    </div>

    <noscript class="lg:col-span-2">
        <div class="p-4 bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500">
            <p class="text-yellow-700 dark:text-yellow-200">This page requires JavaScript to display agents dynamically.</p>
        </div>
    </noscript>
    <!-- Agent cards will be loaded here by JavaScript (agents.js) -->
    <!-- The JavaScript should generate cards with Tailwind classes, see example in head_extra -->
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/agents.js') }}"></script>
{% endblock %}
